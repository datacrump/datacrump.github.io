<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Object vs block store | Data Crump</title><meta name="description" content="Cheap, scalable, and yet is it really the best storage type for your next big data project"/><meta property="og:image" content="https://www.datacrump.com/assets/basics/storage/storage_cover.png"/><meta name="next-head-count" content="5"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon.png"/><meta name="theme-color" content="#000000"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/ad6fb9d9b716f28b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ad6fb9d9b716f28b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-fd1bc4a65a80e5c8.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-18053c3f67c4d467.js" defer=""></script><script src="/_next/static/chunks/pages/_app-80e051d58b25b084.js" defer=""></script><script src="/_next/static/chunks/977-17d7ebde89cdb1ea.js" defer=""></script><script src="/_next/static/chunks/480-02f9bab404896991.js" defer=""></script><script src="/_next/static/chunks/874-6e655e0ef296a203.js" defer=""></script><script src="/_next/static/chunks/656-b1e19b8f20ff9256.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bcategory%5D/%5Bslug%5D-929f8ee6b254a5f9.js" defer=""></script><script src="/_next/static/M_LBT5yZEuBxMjM7kYyrU/_buildManifest.js" defer=""></script><script src="/_next/static/M_LBT5yZEuBxMjM7kYyrU/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons">@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v139/flUhRq6tzZclQEJ-Vdg-IuiaDsNa.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlvAA.woff) format('woff')}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjojISWaw.woff) format('woff')}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjoa4OWaw.woff) format('woff')}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;font-feature-settings:'liga'}@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v139/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2) format('woff2')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufA5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufJ5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufB5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufO5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufC5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufD5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufN5qWr4xCC.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufA5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufJ5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufB5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufO5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufC5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufD5qWr4xCCQ_k.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Slab';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/robotoslab/v24/BngMUXZYTXPIvIBgJJSb6ufN5qWr4xCC.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}</style></head><body><div id="__next"><style data-emotion="css-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionStatic css-h9a59x"><div class="MuiContainer-root MuiContainer-maxWidthXl css-1ekb41w"><div class="MuiToolbar-root MuiToolbar-regular css-12o98wt"><div class="MuiBox-root css-19aihql"></div><a class="MuiTypography-root MuiTypography-h5 MuiTypography-noWrap css-1t5p3ue" href="/">DataCrump</a></div></div></header><div class="MuiBox-root css-1nl0624"><div class="MuiContainer-root MuiContainer-maxWidthLg css-1qsxih2"><nav class="MuiTypography-root MuiTypography-body1 MuiBreadcrumbs-root css-o3d33y" aria-label="breadcrumb"><ol class="MuiBreadcrumbs-ol css-nhb8h9"><li class="MuiBreadcrumbs-li"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1n4g9ka" href="/">Data Crump</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator css-3mf706">/</li><li class="MuiBreadcrumbs-li"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1n4g9ka" href="/posts/basics">Basics</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator css-3mf706">/</li><li class="MuiBreadcrumbs-li"><p class="MuiTypography-root MuiTypography-body1 css-nbfzex">Object vs block store</p></li></ol></nav></div><style data-emotion="css 12us46y">.css-12us46y{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-bottom:24px;padding-top:24px;}</style><div class="MuiGrid-root MuiGrid-container css-12us46y"><div class="MuiContainer-root MuiContainer-maxWidthLg css-1qsxih2"><h1>Object vs block store</h1><style data-emotion="css 39bbo6">.css-39bbo6{margin:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-width:0;border-style:solid;border-color:rgba(0, 0, 0, 0.12);border-bottom-width:thin;}</style><hr class="MuiDivider-root MuiDivider-fullWidth css-39bbo6"/><style data-emotion="css zb6f6p">.css-zb6f6p{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:-16px;width:calc(100% + 16px);margin-left:-16px;padding-bottom:24px;padding-top:24px;}.css-zb6f6p>.MuiGrid-item{padding-top:16px;}.css-zb6f6p>.MuiGrid-item{padding-left:16px;}</style><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2 css-zb6f6p"><style data-emotion="css 11d57x6">.css-11d57x6{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-11d57x6{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-11d57x6{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-11d57x6{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}@media (min-width:1536px){.css-11d57x6{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-lg-8 css-11d57x6"><style data-emotion="css vuzb25">.css-vuzb25{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:4px;box-shadow:0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12);}</style><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation3 css-vuzb25"><div class="MuiContainer-root MuiContainer-maxWidthLg css-1qsxih2"><img src="/assets/basics/storage/storage_cover.png"/><div>Cheap, scalable, and yet is it really the best storage type for your next big data project</div><div class="postContent"><h2>what is</h2>
<h3>object storage</h3>
<p>AWS simple storage service (S3) - is the best know object-store. However, it’s not the only provider of object storage, other choices:</p>
<ul>
<li>Azure Blob storage</li>
<li>Google cloud storage (GCS)</li>
<li>DigitalOcean spaces</li>
</ul>
<blockquote>
<p>search for object store providers you might have found one in your home town :)</p>
</blockquote>
<h3>block storage</h3>
<p>I think the easiest way to think about block storage - it's an HDD or SSD or NVRAM which you can attach to your running instance in the cloud. Each cloud provider does have a version of it.</p>
<h2>usage</h2>
<p>If your project is Netflix, Spotify, or a book library - in which your objects need to be returned to the user full - object store might be a perfect solution.</p>
<h3>object store for database</h3>
<blockquote>
<p>amount of data you need to read is directly responsible for your database performance</p>
</blockquote>
<p>The parquet file is split into row groups which contain columns and meta information about it. Readers are expected to first read the file metadata to find all the column chunks they are interested in. The column chunks should then be read sequentially. The format is explicitly designed to separate the metadata from the data.</p>
<p>However to achieve this storage needs to support the ability to read chunks of files, this is easily achievable in block storage because the operating system supports this.</p>
<p>Object storage on the other hand returns all or nothing for a given key. In S3 there is a way to seek, however HTTP protocol is not as fast as direct access storage provided by the operating system.</p>
<p>At least right now many databases which are based on object storage - first need to download a file to local storage (block storage) and then process it the same way.</p>
<p>Of course, this is not the case if your files are JSON or CSV. The computation engine needs to read a full file to be able to parse information from it. If you need to read the full file object store is a very good solution.</p>
<h2>which one to chooce</h2>
<p>for near realtime data retrieval - block storage</p>
<p>for data lake or unstructured data - object store</p>
<h2>additional info</h2>
<h3>pricing</h3>
<p>Block storage at a minimum twice expensive compared to object-store.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Product</th>
<th>Price per TB / month</th>
</tr>
</thead>
<tbody>
<tr>
<td>Object</td>
<td>AWS S3</td>
<td>around $23</td>
</tr>
<tr>
<td>Object</td>
<td>GCS</td>
<td>around $23</td>
</tr>
<tr>
<td>Block</td>
<td>EBS</td>
<td>starts at $80</td>
</tr>
<tr>
<td>Block</td>
<td>Google Disk</td>
<td>starts at $44</td>
</tr>
</tbody>
</table>
<h3>access layer</h3>
<p>Object sore - HTTP protocol</p>
<p>Block storage - operating system</p>
<h2>summary</h2>
<p>Both object and block storage has it's use cases and very often you will need to go with a mixture of both</p>
<blockquote>
<p>what fits everything very often doesn't fit anything</p>
</blockquote>
</div></div></div></div><style data-emotion="css 1px0r2z">.css-1px0r2z{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1px0r2z{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1px0r2z{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-1px0r2z{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}@media (min-width:1536px){.css-1px0r2z{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-lg-4 css-1px0r2z"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation3 css-vuzb25"><div class="MuiContainer-root MuiContainer-maxWidthLg css-1qsxih2">Share on social media:<br/><button aria-label="facebook" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><style data-emotion="css 6flbmm">.css-6flbmm{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:2.1875rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeLarge css-6flbmm" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="FacebookIcon"><path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"></path></svg></button><button aria-label="twitter" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeLarge css-6flbmm" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="TwitterIcon"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"></path></svg></button><div class="MuiBox-root css-0"><hr class="MuiDivider-root MuiDivider-fullWidth css-39bbo6"/><div>Similar posts</div><div class="MuiGrid-root MuiGrid-item css-1wxaqej"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-9n15ct"><img class="MuiCardMedia-root MuiCardMedia-media MuiCardMedia-img css-rhsghg" src="/assets/basics/file-formats/format_card.png" height="181" alt="File formats"/><div class="MuiCardContent-root css-18er5rl"><div class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-t1nuxs">File formats</div><p class="MuiTypography-root MuiTypography-body2 css-u30lmt">I was surpsided by results then comparing Parquet, Avro, JSON and CSV for both storage and speed</p></div><div class="MuiCardActions-root MuiCardActions-spacing css-3zukih"><div><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium css-1i4al35" tabindex="0" type="button" id="basic-button" aria-haspopup="true">Share</button></div><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall css-n3v15g" tabindex="0" href="/posts/basics/file-formats">Read More</a></div></div></div></div></div></div></div></div></div></div></div><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation3 css-1ez9utm"><div class="MuiBottomNavigation-root css-de1c49"><a class="MuiButtonBase-root MuiBottomNavigationAction-root MuiBottomNavigationAction-iconOnly css-1i67uv0" tabindex="0" href="https://github.com/datacrump"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="GitHubIcon"><path d="M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"></path></svg><span class="MuiBottomNavigationAction-label MuiBottomNavigationAction-iconOnly css-58b16v">GitHub</span></a><a class="MuiButtonBase-root MuiBottomNavigationAction-root MuiBottomNavigationAction-iconOnly css-1i67uv0" tabindex="0" href="https://twitter.com/datacrump"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="TwitterIcon"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"></path></svg><span class="MuiBottomNavigationAction-label MuiBottomNavigationAction-iconOnly css-58b16v">Twitter</span></a><a class="MuiButtonBase-root MuiBottomNavigationAction-root MuiBottomNavigationAction-iconOnly css-1i67uv0" tabindex="0" href="https://www.facebook.com/datacrump"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="FacebookIcon"><path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"></path></svg><span class="MuiBottomNavigationAction-label MuiBottomNavigationAction-iconOnly css-58b16v">Facebook</span></a><a class="MuiButtonBase-root MuiBottomNavigationAction-root MuiBottomNavigationAction-iconOnly css-1i67uv0" tabindex="0" href="https://www.instagram.com/datacrump/"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="InstagramIcon"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg><span class="MuiBottomNavigationAction-label MuiBottomNavigationAction-iconOnly css-58b16v">Instagram</span></a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"storage","category":{"slug":"basics","title":"Basics","excerpt":"Basic stuff which you already know","coverImage":"/assets/logo.png","content":"","top":true},"title":"Object vs block store","excerpt":"Cheap, scalable, and yet is it really the best storage type for your next big data project","coverImage":"/assets/basics/storage/storage_cover.png","cardImage":"/assets/basics/storage/storage_card.png","date":"2022-10-13T12:36:35.000Z","contentPath":"/basics/storage.md","content":"\u003ch2\u003ewhat is\u003c/h2\u003e\n\u003ch3\u003eobject storage\u003c/h3\u003e\n\u003cp\u003eAWS simple storage service (S3) - is the best know object-store. However, it’s not the only provider of object storage, other choices:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAzure Blob storage\u003c/li\u003e\n\u003cli\u003eGoogle cloud storage (GCS)\u003c/li\u003e\n\u003cli\u003eDigitalOcean spaces\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003esearch for object store providers you might have found one in your home town :)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3\u003eblock storage\u003c/h3\u003e\n\u003cp\u003eI think the easiest way to think about block storage - it's an HDD or SSD or NVRAM which you can attach to your running instance in the cloud. Each cloud provider does have a version of it.\u003c/p\u003e\n\u003ch2\u003eusage\u003c/h2\u003e\n\u003cp\u003eIf your project is Netflix, Spotify, or a book library - in which your objects need to be returned to the user full - object store might be a perfect solution.\u003c/p\u003e\n\u003ch3\u003eobject store for database\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eamount of data you need to read is directly responsible for your database performance\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eThe parquet file is split into row groups which contain columns and meta information about it. Readers are expected to first read the file metadata to find all the column chunks they are interested in. The column chunks should then be read sequentially. The format is explicitly designed to separate the metadata from the data.\u003c/p\u003e\n\u003cp\u003eHowever to achieve this storage needs to support the ability to read chunks of files, this is easily achievable in block storage because the operating system supports this.\u003c/p\u003e\n\u003cp\u003eObject storage on the other hand returns all or nothing for a given key. In S3 there is a way to seek, however HTTP protocol is not as fast as direct access storage provided by the operating system.\u003c/p\u003e\n\u003cp\u003eAt least right now many databases which are based on object storage - first need to download a file to local storage (block storage) and then process it the same way.\u003c/p\u003e\n\u003cp\u003eOf course, this is not the case if your files are JSON or CSV. The computation engine needs to read a full file to be able to parse information from it. If you need to read the full file object store is a very good solution.\u003c/p\u003e\n\u003ch2\u003ewhich one to chooce\u003c/h2\u003e\n\u003cp\u003efor near realtime data retrieval - block storage\u003c/p\u003e\n\u003cp\u003efor data lake or unstructured data - object store\u003c/p\u003e\n\u003ch2\u003eadditional info\u003c/h2\u003e\n\u003ch3\u003epricing\u003c/h3\u003e\n\u003cp\u003eBlock storage at a minimum twice expensive compared to object-store.\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eType\u003c/th\u003e\n\u003cth\u003eProduct\u003c/th\u003e\n\u003cth\u003ePrice per TB / month\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eObject\u003c/td\u003e\n\u003ctd\u003eAWS S3\u003c/td\u003e\n\u003ctd\u003earound $23\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eObject\u003c/td\u003e\n\u003ctd\u003eGCS\u003c/td\u003e\n\u003ctd\u003earound $23\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eBlock\u003c/td\u003e\n\u003ctd\u003eEBS\u003c/td\u003e\n\u003ctd\u003estarts at $80\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eBlock\u003c/td\u003e\n\u003ctd\u003eGoogle Disk\u003c/td\u003e\n\u003ctd\u003estarts at $44\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eaccess layer\u003c/h3\u003e\n\u003cp\u003eObject sore - HTTP protocol\u003c/p\u003e\n\u003cp\u003eBlock storage - operating system\u003c/p\u003e\n\u003ch2\u003esummary\u003c/h2\u003e\n\u003cp\u003eBoth object and block storage has it's use cases and very often you will need to go with a mixture of both\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ewhat fits everything very often doesn't fit anything\u003c/p\u003e\n\u003c/blockquote\u003e\n","top":true,"visible":true,"tags":[{"slug":"aws","title":"AWS","excerpt":"","coverImage":"/assets/logo.png","content":""},{"slug":"storage","title":"Storage","excerpt":"","coverImage":"/assets/logo.png","content":""}]},"category":{"slug":"basics","title":"Basics","excerpt":"Basic stuff which you already know","coverImage":"/assets/logo.png","content":"","top":true},"posts":[{"slug":"file-formats","category":{"slug":"basics","title":"Basics","excerpt":"Basic stuff which you already know","coverImage":"/assets/logo.png","content":"","top":true},"title":"File formats","excerpt":"I was surpsided by results then comparing Parquet, Avro, JSON and CSV for both storage and speed","coverImage":"/assets/basics/file-formats/format_cover.png","cardImage":"/assets/basics/file-formats/format_card.png","date":"2022-10-20T20:36:35.000Z","contentPath":"/basics/file-formats.md","content":"## tl;tr\n\nEach file format has its own place in data engineering. You should choose one based on your project or workload.\n\n\n## preparing my data\n\nI have pulled my data set from https://data.openaddresses.io/runs/1195253/lt/countrywide.zip\n\nFor my testing, I'll be using only a couple of columns so I have transformed the original file format to a new one.\n\n```python\n{\n    'country': 'Lithuania',\n    'city': row['CITY'],\n    'postcode': int(row['POSTCODE'].replace(\"LT-\", \"\") if row['POSTCODE'] != ' ' else 0),\n    'street': f\"{' '.join(row['STREET'].split(' ')[1:])} {row['STREET'].split(' ')[0]}\",\n    'full_address': build_full_address(row),\n    'longitude': float(row['LON']),\n    'latitude': float(row['LAT'])\n}\n```\n\nI have added full_address column which joins street, city, and postcode.\n\nData set has 1036250 rows\n\n## generating data files\n\n### same dataset different formats\n\nIn the first step I took the original data and wrote it into different file formats:\n\n| Format | Size  | \n| -----| ------------ | \n| csv | 106MB   | \n| json | 222MB     |\n| avro | 24MB    | \n| parquet | 32MB     |\n\nBoth CSV and JSON are losing a lot compared to Avro and Parquet, however, this is expected because both Avro and Parquet are binary formats (they also use compression) while CSV and JSON are not compressed.\n\nTo make this more comparable I will be applying compression for both JSON and CSV.\n\nCompression makes a difference\n\n| Format | Original  | Compressed|\n| -----| ------------ | --|\n| csv | 106MB   | 20MB\n| json | 222MB     |22MB|\n| avro | 24MB     | 24MB|\n| parquet | 32MB     | 32MB|\n\nMoving forward I'll be using compressed files for comparison\n\n### shuffle some data\n\nMy initial data set was already sorted, I will shuffle it to make a more realistic.\n\n| Format | Original  | Shuffle | \n| -----| ------------ | --|\n| csv | 20MB| 34MB   | \n| json | 22MB| 40MB  |\n| avro | 24MB| 45MB   |\n| parquet | 32MB | 44MB|\n\n![creat bucket](/assets/basics/file-formats/size.png)\n\nShuffle has affected the overall size for all formats. I surprised it Avro has the most significant impact. It increased by 88%. Parquet is a clear winner here with data increase only by 38%\n\n![creat bucket](/assets/basics/file-formats/increase.png)\n\n### 5x\n\nFor speed testing, I wanted to have more data. So I replicate data 5 times and the final dataset was again shuffled.\n\n| Format | Original  | Shuffle | 5x |\n| -----| ------------ | --| --|\n| csv | 20MB| 34MB   | 168MB |\n| json | 22MB| 40MB  | 198MB |\n| avro | 24MB| 45MB   | 222MB |\n| parquet | 32MB | 44MB| 215MB |\n\n\n\u003e No surprises here... \n\n## query speed\n\nFor my testing, I'm using Apache Spark. I load all data types into the data frame and register it as TempView. \n\n\u003e we will be testing queries... we must have tables and SQL!!!\n\n```python\n#parquet\ndf = spark.read.parquet('data/parquet/data_5x.parquet')\ndf.createOrReplaceTempView('source_table')\n\n#csv\ndf = spark.read.format(\"csv\").option(\"header\",\"true\").load('data/csv/data_5x.csv.gz')\ndf.createOrReplaceTempView('source_table')\n\n#json\ndf = spark.read.option(\"multiline\", \"true\").json(\"data/json/data_5x.json.gz\")\ndf.createOrReplaceTempView('source_table')\n\n#avro\ndf = spark.read.format(\"avro\").load(\"data/avro/data_5x.avro\")\ndf.createOrReplaceTempView('source_table')\n```\n\nI came up with a list of queries.\n\n\u003e if you have a query suggestion - please leave it in the comments on social media.\n\nqueries:\n```SQL\n#Q1: \nselect count(*) as cnt from source_table\n\n#Q2: \nselect count(distinct full_address) as cnt from source_table\n\n#Q3:\nselect count(distinct full_address) as cnt from source_table where city = 'Vilnius'\n\n#Q4:\nselect city, count(distinct full_address) as cnt from source_table group by 1 order by cnt desc\n\n#Q5:\nselect count(*) from source_table where city = 'Vilnius' and street = 'Kauno gatvė'\n\n#Q6:\nselect count(*) from source_table where full_address like '%Liep%' \n```\n\nResults:\n\t\n| Query\t| csv\t| json\t| avro\t| parquet |\n|-\t| -| -| -| -|    \n| q1\t| 04.711\t| 11.782\t| 00.498\t| 00.103 |\n| q2\t| 12.945\t| 16.360\t| 01.986\t| 03.132 |\n| q3\t| 09.654\t| 14.645\t| 00.795\t| 01.240 |\n| q4\t| 14.365\t| 18.031\t| 02.795\t| 04.463 |\n| q5\t| 08.252\t| 14.008\t| 00.480\t| 00.628 |\n| q6\t| 08.831\t| 14.004\t| 00.544\t| 00.977 |\n\n\n![creat bucket](/assets/basics/file-formats/graph.png)\n\nParquet and Avro are clear winners for running queries\n\n## summary\n\nCSV - can be compressed very well. This format's ancient - so you should not have a problem reading it. \n\n\u003e I would choose this format for moving data via FTP or email.\n\nAvro - I knew nothing about it before starting my tests, it is a row-based format while parquet is columnar. \n\n\u003e I think it would be perfect for storing data consumed by Kafka\n\nJSON - having schema in each row is not efficient... for it, you pay with speed and size.  However at the same time if your schema is evolving you do not need to do anything.\n\n\u003e I still like this format because of how easy it is to deal with it\n\nParquet - I was expecting a little bit more from it (was really surprised by Avro's performance).\n\n\u003e I'm still shocked it was beaten by Avro :D\n\nI think all of these formats will continue to be used.\n\n","top":true,"visible":true,"tags":[{"slug":"storage","title":"Storage","excerpt":"","coverImage":"/assets/logo.png","content":""}]}]},"__N_SSG":true},"page":"/posts/[category]/[slug]","query":{"category":"basics","slug":"storage"},"buildId":"M_LBT5yZEuBxMjM7kYyrU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>